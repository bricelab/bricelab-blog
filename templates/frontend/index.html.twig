{% extends 'base.html.twig' %}

{% block title %}Hello HomeController!{% endblock %}

{% block body %}
    <div class="container-fluid bg-secondary mb-3" style="min-height: 400px; background-image: url('https://picsum.photos/id/1049/840/460'); background-repeat: no-repeat; background-position: center; background-size: cover;">
        <div class="container">
            <div class="p-4 p-md-5 mb-4">
                <div class="col-md-12 px-0">
                    <h1 class="display-4 fst-italic">Title of a longer featured blog post</h1>
                    <p class="lead my-3">Multiple lines of text that form the lede, informing new readers quickly and efficiently about what’s most interesting in this post’s contents.</p>
                    <p class="lead mb-0"><a href="#" class="text-whXite fw-bold">Continue reading...</a></p>
                </div>
            </div>
        </div>

    </div>

    <div class="container mb-3">
        <div class="row mb-2">
            <div class="col-md-9">
                <div class="row">
                    {% for post in posts.results %}
                        <div class="col-md-6">
                            <div class="row g-0 border border-secondary shadow overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
                                <div class="col-auto d-none d-lg-block">
                                    <img src="{{ asset("/posts/images/featured/" ~ post.featuredImage) | imagine_filter('home_post_image_card_thumbnail') }}" class="" alt="Thumbnail" width="150" height="100%">
                                </div>
                                <div class="col p-4 d-flex flex-column position-static" style="min-height: 250px">
                                    <strong class="d-inline-block mb-2 text-primary">par {{ post.author.pseudo }}</strong>
                                    <h3 class="mb-0 h4">{{ post.title[0:40] }}{% if post.title|length > 40 %}...{% endif %}</h3>
                                    <div class="mb-1 text-muted">{{ post.publishedAt|date('d/m/Y à H:i') }}</div>
                                    <p class="card-text mb-auto">{{ post.summary[0:50] }} {% if post.summary|length > 50 %}...{% endif %}</p>
                                    <a href="{{ path('app_post_view', {
                                        slug: post.slug
                                    }) }}" class="stretched-link">Lire la suite ...</a>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                    {{  include('shared/pagination.html.twig', {
                        currentFilters: {},
                        currentPage: posts.currentPage,
                        lastPage: posts.lastPage,
                        position: 'right'
                    }) }}
                </div>
            </div>
            <div class="col-md-3">
                <div class="position-sticky" style="top: 2rem;">
                    {#                    <div class="p-4 mb-3 bg-light rounded">#}
                    {#                        <h4 class="fst-italic">About</h4>#}
                    {#                        <p class="mb-0">Customize this section to tell your visitors a little bit about your publication, writers, content, or something else entirely. Totally up to you.</p>#}
                    {#                    </div>#}

                    <div class="p-4">
                        <h4 class="fst-italic">Catégories</h4>
                        <ol class="list-unstyled mb-0">
                            <li><a href="#">March 2021</a></li>
                            <li><a href="#">February 2021</a></li>
                            <li><a href="#">January 2021</a></li>
                            <li><a href="#">December 2020</a></li>
                            <li><a href="#">November 2020</a></li>
                            <li><a href="#">October 2020</a></li>
                            <li><a href="#">September 2020</a></li>
                            <li><a href="#">August 2020</a></li>
                            <li><a href="#">July 2020</a></li>
                            <li><a href="#">June 2020</a></li>
                            <li><a href="#">May 2020</a></li>
                            <li><a href="#">April 2020</a></li>
                        </ol>
                    </div>

                    <div class="p-4">
                        <h4 class="fst-italic">Mots clés</h4>
                        <ol class="list-unstyled">
                            <li><a href="#">GitHub</a></li>
                            <li><a href="#">Twitter</a></li>
                            <li><a href="#">Facebook</a></li>
                        </ol>
                    </div>
                </div>
            </div>

        </div>

    </div>
{% endblock %}
